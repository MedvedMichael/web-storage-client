(this["webpackJsonpweb-storage-client"]=this["webpackJsonpweb-storage-client"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/videocam-dark.c3847802.jpg"},31:function(e,t,a){e.exports=a(61)},36:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),s=a.n(o),c=(a(36),a(4)),i=a(5),u=a(7),l=a(6),d=a(12),p=a(13),m=a(1),f=a.n(m),v=a(2),b=(a(38),a(19)),g=function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://mike-test-heroku-node.herokuapp.com/api",this.getResourse=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getLast10Videosets=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getResourse("/videosets-last-10?categoryId=".concat(a)).then((function(e){return e.map(t._transformItem)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSubcategories=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/subcategoriesall");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformItem));case 4:case"end":return e.stop()}}),e)}))),this.getAllUsers=Object(v.a)(f.a.mark((function e(){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/usersall"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.map(t._transformItem));case 10:case"end":return e.stop()}}),e)}))),this.patchUserByMainAdmin=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/users?id=").concat(a),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)});case 3:if((o=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postCategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:a,isPublished:!0},r=localStorage.getItem("token"),e.next=4,fetch("".concat(t._apiBase,"/categories"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)});case 4:if((o=e.sent).ok){e.next=7;break}return e.abrupt("return",{error:!0});case 7:return e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postSubcategory=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o,s,c,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:"text",o={name:a,type:r},s=localStorage.getItem("token"),e.next=5,fetch("".concat(t._apiBase,"/subcategories?categoryId=").concat(n),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(o)});case 5:if((c=e.sent).ok){e.next=8;break}return e.abrupt("return",{error:!0});case 8:return e.next=10,c.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postVideoset=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:a},o=localStorage.getItem("token"),e.next=4,fetch("".concat(t._apiBase,"/videoset?subcategoryId=").concat(n),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(r)});case 4:if(e.sent.ok){e.next=7;break}return e.abrupt("return",{error:!0});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postFormData=function(){var e=Object(v.a)(f.a.mark((function e(a,n,r,o,s){var c,i,u,l,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase).concat(a).concat(n),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(s)});case 3:if((i=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,i.json();case 8:return u=e.sent,l=u._id,(d=new FormData).append(o,r),p=a.slice(0,a.indexOf("?")),e.next=15,fetch("".concat(t._apiBase).concat(p,"/upload/").concat(l),{method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(c)},body:d});case 15:if(e.sent.ok){e.next=18;break}return e.abrupt("return",{error:!0});case 18:return e.abrupt("return",{ok:!0});case 19:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),this.postPicture=function(){var e=Object(v.a)(f.a.mark((function e(a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postFormData("/picture?pictureSliderId=",a,n,"image",{source:"local"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postLogo=function(){var e=Object(v.a)(f.a.mark((function e(a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postFormData("/logo?videosetId=",a,n,"image",{source:"local"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.postVideo=function(){var e=Object(v.a)(f.a.mark((function e(a,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.postFormData("/video?videosContainerId=",a,r,"video",{source:"local",name:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.postURLVideo=function(){var e=Object(v.a)(f.a.mark((function e(a,n,r){var o,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={source:"external",name:n,file:r},s=localStorage.getItem("token"),e.next=4,fetch("".concat(t._apiBase,"/video?videosContainerId=").concat(a),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(o)});case 4:if((c=e.sent).ok){e.next=7;break}return e.abrupt("return",{error:!0});case 7:return e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.postSlider=function(){var e=Object(v.a)(f.a.mark((function e(a){var n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/picture-slider?videosetId=").concat(a),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,r.json();case 8:return o=e.sent,e.abrupt("return",t._transformItem(o));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.postVideosContainer=function(){var e=Object(v.a)(f.a.mark((function e(a){var n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/videos-container?videosetId=").concat(a),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,r.json();case 8:return o=e.sent,e.abrupt("return",t._transformItem(o));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteItem=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase).concat(a,"?id=").concat(n),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 3:if((o=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.deleteSlider=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/picture-slider",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteVideosContainer=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/videos-container",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteVideoset=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/videoset",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteCategory=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/categories",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteSubcategory=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/subcategories",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteLogo=function(){var e=Object(v.a)(f.a.mark((function e(a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/logo?videosetId=").concat(a),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.patchVideoset=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),e.next=3,fetch("".concat(t._apiBase,"/videosets?videosetId=").concat(a),{method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(n)});case 3:if((o=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,o.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.deletePhoto=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/picture",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteVideo=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.deleteItem("/video",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPicturesOfSlider=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/pictures?pictureSliderId=".concat(a));case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return"".concat(t._apiBase,"/picture/").concat(e._id)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signInByCredentials=function(){var e=Object(v.a)(f.a.mark((function e(a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:a,password:n},"/users/login",e.next=4,fetch("".concat(t._apiBase).concat("/users/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if((o=e.sent).ok){e.next=7;break}return e.abrupt("return",{ok:!1,error:o.statusText});case 7:return e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.registerByCredentials=function(){var e=Object(v.a)(f.a.mark((function e(a,n,r,o){var s,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={name:a,nickname:n,email:r,password:o},"/users",e.next=4,fetch("".concat(t._apiBase).concat("/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 4:return c=e.sent,e.next=7,c.json();case 7:if(i=e.sent,c.ok){e.next=10;break}return e.abrupt("return",t.checkDataForErrors(i));case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),this.getUserProfile=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/me",e.next=3,fetch("".concat(t._apiBase).concat("/users/me"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",{error:!0});case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.checkDataForErrors=function(e){if("ValidationError"===e.name)for(var t=e.errors,a=Object.keys(t),n=0;n<a.length;n++){var r=a[n];if("required"===t[r].kind)return{error:"Please enter all information"};if("user defined"===t[r].kind)return{error:"Invalid ".concat(r,"!")};if("minlength"===t[r].kind&&"password"===r)return{error:"Password should contain at least 7 characters!"}}else if("MongoError"===e.name)return{error:"This e-mail is already used, try another"}},this.getAllCategories=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/categories");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformItem));case 4:case"end":return e.stop()}}),e)}))),this.getSubcategoriesOfCategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/subcategories?categoryId=".concat(a));case 2:return n=e.sent,e.abrupt("return",n.map(t._transformItem));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSubcategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/subcategories/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformItem(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/categories/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._addSubcategoriesToCategory(t._transformItem(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getVideosetsOfSubcategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/videosets?subcategoryId=".concat(a));case 2:return n=e.sent,e.abrupt("return",n.map(t._transformItem));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getVideoset=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/videoset/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformItem(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getVideosOfVideosContainer=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/videos?videosContainerId=".concat(a));case 2:return n=e.sent,e.abrupt("return",n.map(t._transformItem));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformItem=function(e){return Object(b.a)({},e,{id:e._id})},this._addSubcategoriesToCategory=function(){var e=Object(v.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/subcategories?categoryId=".concat(a.id));case 2:return n=e.sent,e.abrupt("return",Object(b.a)({},a,{subItems:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).webStorageService=new g,e.onSignOutButtonClick=function(){localStorage.setItem("user",""),localStorage.setItem("token",""),e.props.onUserUpdate()},e.componentDidMount=Object(v.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("token"),n=localStorage.getItem("user"),a&&n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.webStorageService.getUserProfile(a);case 5:if(!(r=t.sent).error){t.next=8;break}return t.abrupt("return",e.updateLocalStorage());case 8:e.updateLocalStorage(JSON.stringify(r),a);case 9:case"end":return t.stop()}}),t)}))),e.updateLocalStorage=function(t,a){localStorage.setItem("user",t),localStorage.setItem("token",a),e.props.onUserUpdate()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user,t=function(){var e=Object(p.f)();return r.a.createElement("button",{onClick:function(){e.push("/users")},className:"btn btn-primary",type:"submit"},"View all users")},a=e?r.a.createElement("div",{className:"user-card card"},r.a.createElement("h5",{className:"welcome-title"},"Welcome back, ",e.name,"!"),r.a.createElement("div",{className:"header-button-group"},r.a.createElement("button",{className:"btn btn-secondary header-button profile-button",type:"submit"},"View profile"),r.a.createElement("button",{className:"btn btn-secondary header-button signout-button",type:"submit",onClick:this.onSignOutButtonClick},"Sign out")),r.a.createElement("div",{className:"btn-group"},"main-admin"===e.status?r.a.createElement(t,null):null)):r.a.createElement("h2",{className:"login-link"},r.a.createElement(d.b,{to:"/login"},"Login"));return r.a.createElement("div",{className:"header d-flex"},r.a.createElement("div",{className:"web-storage-title"},r.a.createElement(d.b,{to:"/"},"Web Storage")),a)}}]),a}(n.Component),w=(a(43),a(44),function(){return r.a.createElement("div",{className:"lds-css"},r.a.createElement("div",{className:"lds-double-ring"},r.a.createElement("div",null),r.a.createElement("div",null)))}),x=a(30),k=(a(45),function(e){var t=e.editable,a=e.children,o=e.onFilesAdded,s=e.extraClassName,c=Object(n.useState)(!1),i=Object(x.a)(c,2),u=i[0],l=i[1],d="card drop-area ".concat(s&&!u?s:""," ").concat(u?"highlight border-success":"");return t?r.a.createElement("div",{className:d,onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),l(!0)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),l(!0)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),l(!1)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),l(!1),o(e.dataTransfer)}},a):r.a.createElement("div",null,a)}),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={slides:null,slideIndex:null,editable:!1},e.initSlides=function(){var t=e.props,a=t.dataURLs,n=t.editable,o=t.slideIndex,s=a?a.map((function(e){return document.createElement("img").src=e,r.a.createElement(E,{key:e,path:e})})):null;e.setState({slides:s,slideIndex:o&&o>=0?o:0,editable:n||!1})},e.changeSlideIndex=function(t){var a=e.state,n=a.slides,r=a.slideIndex+t;r>=n.length&&(r-=n.length),r<0&&(r+=n.length),e.setState({slideIndex:r})},e.onPrevButtonClick=function(){e.changeSlideIndex(-1)},e.onNextButtonClick=function(){e.changeSlideIndex(1)},e.onDotClick=function(t){var a=e.state.slideIndex;e.changeSlideIndex(t-a)},e.onPictureAdded=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.files,r=e.props.uploadingPicture,o=0;case 3:if(!(o<n.length)){t.next=9;break}return t.next=6,r(e.props.id,e.state.slideIndex,n[o]);case 6:o++,t.next=3;break;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onPictureDeleted=function(){var t=e.state,a=t.slides,n=t.slideIndex,r=a[n];e.props.deletingPicture(e.props.id,n,r.props.path)},e.componentDidUpdate=function(t){t.dataURLs!==e.props.dataURLs&&e.initSlides()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.initSlides()}},{key:"render",value:function(){var e=this,t=this.state,a=t.slides,n=t.slideIndex,o=t.editable,s=o?r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"file-upload",className:"btn btn-outline-success custom-file"},"Upload pictures"),r.a.createElement("input",{multiple:"multiple",onChange:function(t){var a=t.target;return e.onPictureAdded(a)},id:"file-upload",type:"file",className:"custom-file-input"})):null;if(!a||0===a.length)return r.a.createElement(k,{editable:!0,onFilesAdded:this.onPictureAdded},r.a.createElement("h3",{className:"error-message"},"There's no content"),r.a.createElement("div",{className:"add-delete-btn-container"},r.a.createElement("div",{className:"add-delete-btn-group btn-group"},s)));if(!a[n])return r.a.createElement(w,null);var c=a[n],i=a.map((function(t,a){var o=a===n;return r.a.createElement(S,{isActive:o,id:a,onClick:e.onDotClick,key:"dot"+a})})),u=o?r.a.createElement("div",{className:"add-delete-btn-container"},r.a.createElement("div",{className:"add-delete-btn-group btn-group"},s,r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return e.onPictureDeleted()}},"Delete picture"))):null;return r.a.createElement("div",{className:"content"},r.a.createElement(k,{editable:o,onFilesAdded:this.onPictureAdded},r.a.createElement("div",{className:"slider"},r.a.createElement("div",{className:"wrap"},c,r.a.createElement("div",{className:"prev",onClick:this.onPrevButtonClick},r.a.createElement("div",{className:"arrow-left"})),r.a.createElement("div",{className:"next",onClick:this.onNextButtonClick},r.a.createElement("div",{className:"arrow-right"}))),r.a.createElement("div",{className:"slider-dots"},i),u)))}}]),a}(n.Component),E=function(e){var t=e.path;return r.a.createElement("div",{className:"slider-item"},r.a.createElement("img",{src:t,alt:"slider"}))},S=function(e){var t=e.isActive,a=e.id,n=e.onClick,o="dot"+(t?" dot-active":"");return r.a.createElement("div",{className:o,onClick:function(){return n(a)}})},N=a(17),C=function(e){return n.createElement("div",{className:"editor"},n.createElement(N.a,Object.assign({onDragEnd:e.onDragEnd},e)))},O=function(e){var t=e.droppableId,a=e.className,r=e.children;return n.createElement(N.c,{droppableId:t},(function(e){var t=e.innerRef,o=e.droppableProps,s=e.droppablePlaceholder;return n.createElement("div",Object.assign({className:a,ref:t},o,s),r)}))},j=function(e){var t=e.draggableId,a=e.index,r=e.className,o=e.children;return n.createElement(N.b,{draggableId:t,index:a},(function(e){var t=e.innerRef,a=e.draggableProps,s=e.dragHandleProps;return n.createElement("div",Object.assign({className:r,ref:t},a,s),o)}))},I=(a(47),a(48),function(e){var t=e.children,a=e.header;return r.a.createElement("div",{className:"card wrapper-card"},a||r.a.createElement("div",{className:"mb-4"}),r.a.createElement("div",{className:"wrapper-card-content"},t))}),V=function(e){var t=e.content,a=e.value,r=e.itemPosition,o=e.onItemDeleted,s=n.createElement("div",{className:"delete-item-button"},n.createElement("button",{className:"close",type:"button","data-dismiss":"modal","aria-label":"Close",onClick:function(){return o(a)}},n.createElement("span",{"aria-hidden":"true"},"\xd7")));return n.createElement(j,{draggableId:a,index:r},n.createElement("div",{className:"draggable-box"},n.createElement(I,{header:s},n.createElement("div",null,t))))};var D=function(e){var t=e.items,a=e.onItemDeleted;return n.createElement("div",null," ",t.map((function(e,t){return function(e,t,a){return n.createElement(V,{onItemDeleted:a,key:e.props.id,className:"box",itemPosition:t,value:e.props.id,content:e})}(e,t,a)}))," ")},L=function(e){var t=e.id,a=e.items,r=e.onItemDeleted;return t=String(t),n.createElement(O,{droppableId:t,className:"source"},n.createElement(D,{items:a,onItemDeleted:r}))},P=(a(49),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:"",editable:!1,editableText:"",editStatus:!1},e.getText=function(){return e.state.text},e.componentDidMount=function(){var t=e.props,a=t.text,n=t.editable;e.setState({text:a||"",editable:n||!1})},e.componentDidUpdate=function(t){e.props.text!==t.text&&e.setState({text:e.props.text})},e.onSaveClick=function(){var t=e.state.editableText;e.setState({text:t,editStatus:!1}),e.props.saveDescription(e.props.id,t)},e.onChangeClick=function(){var t=e.state,a=t.editStatus,n=t.text,r=!a;e.setState({editStatus:r,editableText:n})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.editable,n=t.editableText,o=t.editStatus,s=t.text,c=r.a.createElement("h3",{className:"text-success"}," Description: "),i=r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control edit-text-area",rows:"3",onChange:function(t){var a=t.target;e.setState({editableText:a.value})},value:n}),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-success save-btn",onClick:function(){e.onSaveClick()}},"Save changes"),r.a.createElement("button",{type:"button",className:"btn btn-secondary save-btn","data-dismiss":"modal",onClick:function(){return e.setState({editStatus:!e.state.editStatus})}},"Close"))),u=a?r.a.createElement("div",{className:"change-btn"},r.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-lg",onClick:function(){e.onChangeClick()}},"Change")):null,l=s.split("\n").map((function(e,t){return r.a.createElement("h4",{key:"description-line".concat(t),className:"description"},e)})),d=r.a.createElement("div",{className:"card-body"},o?i:l);return r.a.createElement("div",{className:"videoset-description"},r.a.createElement(U,{left:c,right:d}),r.a.createElement("div",null,o?null:u))}}]),a}(n.Component)),U=function(e){var t=e.left,a=e.right;return r.a.createElement("div",{className:"row mb2"},r.a.createElement("div",{className:"row-item"},t),r.a.createElement("div",{className:"col-md-9"},a))},A=P,B=(a(50),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).webStorageService=new g,e.state={isDropdownMenuOpened:!1,videosetItems:{PictureSlider:"Slider",VideosetDescription:"Description",Videos:"Videos"},isDropdownSubcategoryMenuOpened:!1,subcategories:[],videoset:null},e.componentDidMount=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.videoset,t.next=3,e.webStorageService.getAllSubcategories();case 3:n=t.sent,e.setState({subcategories:n,videoset:a});case 5:case"end":return t.stop()}}),t)}))),e.onDropdownMenuClick=function(){var t=!e.state.isDropdownMenuOpened;e.setState({isDropdownMenuOpened:t})},e.onDropdownItemClick=function(t){e.props.onVideosetElementAdded(t),e.onDropdownMenuClick()},e.onDropdownSubcategoryMenuClick=function(){var t=!e.state.isDropdownSubcategoryMenuOpened;e.setState({isDropdownSubcategoryMenuOpened:t})},e.onSubcategoryItemClick=function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.changeSubcategory(a);case 2:e.onDropdownSubcategoryMenuClick();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSaveChangesButtonClick=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.saveChanges();case 2:case"end":return t.stop()}}),t)}))),e.onCancelButtonClick=function(){e.props.cancelAction()},e.onChangeTitleButtonClick=function(){e.props.changeTitle()},e.onDeleteVideosetClickButton=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.deleteVideoset();case 2:case"end":return t.stop()}}),t)}))),e.onChangeLogoButtonClick=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.files,t.next=3,e.props.changeLogo(n[0]);case 3:(r=e.state.videoset).hasLogo=!0,e.setState({videoset:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onDeleteLogoButtonClick=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.deleteLogo(e.state.videoset.id);case 2:(a=e.state.videoset).hasLogo=!1,e.setState({videoset:a});case 5:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isDropdownMenuOpened,n=t.isDropdownSubcategoryMenuOpened,o=t.videosetItems,s=t.subcategories,c=t.videoset,i="dropdown-menu ".concat(a?"show":""),u="dropdown-menu ".concat(n?"show":""),l=function(e){var t=e.id,a=e.onClick,n=Object(p.f)(),o=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n.push("/videosets/".concat(t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("button",{className:"btn btn-outline-success",onClick:o},"Save changes")},d=function(e){var t=e.onClick,a=Object(p.f)(),n=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:a.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("button",{className:"change-title btn btn-danger",onClick:n},"Delete videoset")},m=r.a.createElement(l,{id:this.props.id,onClick:Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onSaveChangesButtonClick();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}),b=Object.values(o).map((function(t){return r.a.createElement("div",{key:"add ".concat(t)},r.a.createElement("span",{className:"dropdown-item",onClick:function(){return e.onDropdownItemClick(t)}},t))})),g=s?s.map((function(t){var a=t.id,n=t.name;return r.a.createElement("div",{key:"add ".concat(a)},r.a.createElement("span",{className:"dropdown-item ".concat(e.state.videoset.owner===a?"text-info":""),onClick:function(){return e.onSubcategoryItemClick(a)}},n))})):null,h=r.a.createElement("button",{type:"button",className:"change-title btn btn-primary",onClick:this.onChangeTitleButtonClick},"Change title"),w=r.a.createElement("div",{className:"change-title"},r.a.createElement("label",{htmlFor:"file-upload",className:"btn btn-warning custom-file"},"Upload logo"),r.a.createElement("input",{onChange:function(t){var a=t.target;return e.onChangeLogoButtonClick(a)},id:"file-upload",type:"file",className:"custom-file-input"})),x=r.a.createElement("button",{type:"button",className:"change-title btn btn-danger",onClick:this.onDeleteLogoButtonClick},"Delete logo"),k=r.a.createElement(d,{id:this.props.id,onClick:Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onDeleteVideosetClickButton();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))});return r.a.createElement("div",{className:"editor-bar-container"},r.a.createElement("div",{className:"card editor-bar"},r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement("li",{className:"nav-item dropdown add-dropdown"},r.a.createElement("h4",{className:"nav-link dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return e.onDropdownMenuClick()}},"Add item"),r.a.createElement("div",{className:i,"x-placement":"bottom-start"},b)),r.a.createElement("li",null,r.a.createElement("div",{className:"btn-group"},w,c&&c.hasLogo?x:null,h,k)),r.a.createElement("li",{className:"nav-item dropdown add-dropdown"},r.a.createElement("h4",{className:"nav-link dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return e.onDropdownSubcategoryMenuClick()}},"Select subcategory"),r.a.createElement("div",{className:u,"x-placement":"bottom-start"},g)),r.a.createElement("li",{className:"nav-item editor-bar-buttons"},r.a.createElement("div",{className:"btn-group"},m,r.a.createElement("button",{className:"btn btn-outline-danger",onClick:this.onCancelButtonClick},"Cancel"))))))}}]),a}(n.Component)),M=a(29),T=a.n(M),R=(a(51),a(52),function(e){var t=e.onClose,a=e.show,n=e.title,o=e.children,s=e.footer,c="video-modal modal ".concat(a?"in display-block":"display-none");return r.a.createElement("div",{className:c,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel"},r.a.createElement("div",{className:"modal-backdrop",onClick:function(e){return"modal-backdrop"===e.target.className?t():""}},r.a.createElement("div",{className:"modal-dialog modal-lg modal-dialog-centered"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},n),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true",onClick:function(){return t()}},"\xd7")),r.a.createElement("div",{className:"modal-body"},o),r.a.createElement("div",{className:"modal-footer"},s,r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:t},"Go back"))))))}),_=a(16),F=a.n(_),J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editable:!1,videos:[],showModal:!1,inputFormURL:null},e.componentDidMount=Object(v.a)(f.a.mark((function t(){var a,n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.videos,r=a.editable,e.setState({videos:n,editable:r||!1});case 2:case"end":return t.stop()}}),t)}))),e.onVideoViewClick=function(t){var a=e.state.videos.find((function(e){return e.id===t}));e.props.onVideoClick(a)},e.uploadingVideos=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.files,r=e.props,o=r.id,s=r.uploadingVideo,c=r.updateContainer,i=0;case 3:if(!(i<n.length)){t.next=9;break}return t.next=6,s(o,n[i]);case 6:i++,t.next=3;break;case 9:return e.setState({showModal:!1}),t.next=12,c(o);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showModal=function(){e.setState({showModal:!0})},e.uploadingURLVideo=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c,i,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.inputFormURL,n=new F.a(a),"www.youtube.com"!==n.hostname){t.next=13;break}return r=n.query,o=new URLSearchParams(r.slice(1)),s=o.get("v"),c="https://www.youtube.com/embed/".concat(s),i=prompt("Input video name: ","Video"),t.next=11,e.props.uploadingURLVideo(e.props.id,i,c);case 11:t.next=16;break;case 13:return u=prompt("Input video name: ","Video"),t.next=16,e.props.uploadingURLVideo(e.props.id,u,a);case 16:e.setState({showModal:!1});case 17:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.videos,n=t.editable,o=t.showModal,s=this.props.id,c=n?r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:this.showModal},"Upload more videos")):null,i=n?r.a.createElement("div",{className:"add-videos-button"},r.a.createElement("label",{htmlFor:"file-upload",className:"btn btn-outline-success custom-file"},"Upload videos"),r.a.createElement("input",{multiple:"multiple",onChange:function(t){var a=t.target;return e.uploadingVideos(a)},id:"file-upload",type:"file",className:"custom-file-input"})):null,u=n?r.a.createElement("div",{className:"add-delete-btn-container"},r.a.createElement("div",{className:"add-delete-btn-group btn-group"},c)):null,l=o?r.a.createElement(R,{show:o,onClose:function(){return e.setState({showModal:!1})},title:"Uploading video"},r.a.createElement("div",{className:"d-flex list-group nav-pills"},r.a.createElement("div",{className:"video-modal-line"},r.a.createElement("h2",null,"Upload video from compatible services")),r.a.createElement("div",{className:"video-modal-line input-group"},r.a.createElement("input",{className:"form-control form-control-lg",onChange:function(t){var a=t.target;return e.setState({inputFormURL:a.value})}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.uploadingURLVideo},"Upload"))),r.a.createElement("div",{className:"video-modal-line"},r.a.createElement("h2",{style:{textAlign:"center"}},"OR")),r.a.createElement("div",{className:"video-modal-line"},r.a.createElement("h2",null,"Upload your local videos")),r.a.createElement("div",{className:"video-modal-line"},r.a.createElement(k,{extraClassName:"border-light",editable:!0,onFilesAdded:this.uploadingVideos},r.a.createElement("div",null,r.a.createElement("div",{className:"col-lg-12 video-uploading-modal-card"},r.a.createElement("div",{className:"video-uploading-text card-body"},r.a.createElement("h4",{className:""},"Drop videos here"))))),r.a.createElement("div",{style:{display:"flex"},className:"btn-group"},i)))):null;if(!a||0===a.length)return r.a.createElement("div",null,l,r.a.createElement(k,{editable:n,key:s,onFilesAdded:this.uploadingVideos},r.a.createElement("h3",{className:"error-message"},"There's no content"),u));var d=0===a.length?r.a.createElement("h4",{className:"no-content"},"There's no content"):a.map((function(t,a){var n=t.name,o=t.id;return r.a.createElement("div",{key:"video".concat(a),className:"video-card card",onClick:function(){return e.onVideoViewClick(o)}},r.a.createElement("h5",{className:"card-header"},n),r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:T.a,alt:"img"})))}));return r.a.createElement("div",null,l,r.a.createElement(k,{editable:n,key:s,onFilesAdded:this.uploadingVideos},r.a.createElement("h2",{className:"videos-module-title"},"Videos"),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},d)),u)))}}]),a}(n.Component),z=function(e){var t=e.url;return r.a.createElement("div",{className:"video-player"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"thumb-wrap"},r.a.createElement("iframe",{title:t,width:"560",height:"315",src:t,frameBorder:"0",allowFullScreen:!0}))),r.a.createElement("div",{id:"grey"}))},W=(a(55),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).webStorageService=new g,e.state={data:null,startData:null,columnId:0,itemList:[],videosetId:null,counters:{},deleted:[],added:[],videoPlayer:null,showModal:!1,showVideoUploadingModal:!1},e.onDragEnd=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.destination,r=a.source,n){t.next=3;break}return t.abrupt("return");case 3:o=e.state.itemList,s=o.splice(r.index,1)[0],o.splice(n.index,0,s),e.setState({itemList:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.initialAddingItems=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.data,n=a.order,r=0;case 3:if(!(r<n.length)){t.next=25;break}if("VideosetDescription"!==(o=n[r]).type||null===o.value){t.next=9;break}e.addItemToColumn(A,{text:o.value,saveDescription:e.saveDescription,editable:!0}),t.next=22;break;case 9:if("PictureSlider"!==o.type||!o.value){t.next=16;break}return t.next=12,e.webStorageService.getPicturesOfSlider(o.value);case 12:s=t.sent,e.addItemToColumn(y,{id:o.value,dataURLs:s,editable:!0,uploadingPicture:e.uploadingPicture,deletingPicture:e.deletingPicture}),t.next=22;break;case 16:if("VideosContainer"!==o.type||!o.value){t.next=22;break}return t.next=19,e.webStorageService.getVideosOfVideosContainer(o.value);case 19:return c=t.sent,t.next=22,e.addItemToColumn(J,{id:o.value,videos:c,uploadingURLVideo:e.uploadingURLVideo,updateContainer:e.updateContainer,editable:!0,onVideoClick:e.onVideoClick,uploadingVideo:e.uploadingVideo});case 22:r++,t.next=3;break;case 25:case"end":return t.stop()}}),t)}))),e.uploadingPicture=function(){var t=Object(v.a)(f.a.mark((function t(a,n,r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.postPicture(a,r);case 2:if(t.sent.ok){t.next=5;break}return t.abrupt("return");case 5:e.updateSlider(a,n);case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.deletingPicture=function(){var t=Object(v.a)(f.a.mark((function t(a,n,r){var o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=r.length-1;"/"!==r[o];)o--;return s=r.substring(o+1),t.next=5,e.webStorageService.deletePhoto(s);case 5:if(!t.sent.error){t.next=8;break}return t.abrupt("return");case 8:e.updateSlider(a,n);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.deletingVideo=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.id,r=a.owner,t.next=3,e.webStorageService.deleteVideo(n);case 3:if(!t.sent.error){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.updateContainer(r);case 8:e.setState({showModal:!1});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateSlider=function(){var t=Object(v.a)(f.a.mark((function t(a,n){var o,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.itemList,t.next=3,e.webStorageService.getPicturesOfSlider(a);case 3:s=t.sent,c=o.findIndex((function(e){return e.props.id===a})),i=r.a.createElement(y,Object.assign({},o[c].props,{dataURLs:s,slideIndex:n>0?n-1:null})),o[c]=i,e.setState({itemList:o});case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.addItemToColumn=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.state,o=n.itemList,s=n.counters;s[t.name]||(s[t.name]=0);var c=s[t.name],i=r.a.createElement(t,Object.assign({key:String(t.name)+c,id:String(t.name)+c},a));s[t.name]+=1,o.push(i),e.setState({itemList:o,counters:s})},e.onVideosetElementAdded=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o,s,c,i,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next="Slider"===t.t0?3:"Description"===t.t0?9:"Videos"===t.t0?12:21;break;case 3:return n=y,t.next=6,e.webStorageService.postSlider(e.props.id);case 6:return o=t.sent,r={id:o.id,editable:!0,uploadingPicture:e.uploadingPicture,deletingPicture:e.deletingPicture},t.abrupt("break",22);case 9:return n=A,r={text:"",editable:!0,saveDescription:e.saveDescription},t.abrupt("break",22);case 12:return n=J,t.next=15,e.webStorageService.postVideosContainer(e.props.id);case 15:return s=t.sent,t.next=18,e.webStorageService.getVideosOfVideosContainer(s.id);case 18:return c=t.sent,r={id:s.id,videos:c,updateContainer:e.updateContainer,uploadingURLVideo:e.uploadingURLVideo,uploadingVideo:e.uploadingVideo,onVideoClick:e.onVideoClick,editable:!0},t.abrupt("break",22);case 21:return t.abrupt("return");case 22:e.addItemToColumn(n,r),i=e.state,u=i.added,l=i.itemList,u.push(l[l.length-1]);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.uploadingVideo=function(){var t=Object(v.a)(f.a.mark((function t(a,n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=prompt("Input video name: ","Video"),t.next=3,e.webStorageService.postVideo(a,r,n);case 3:if(t.sent.ok){t.next=6;break}return t.abrupt("return");case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.uploadingURLVideo=function(t,a,n){e.webStorageService.postURLVideo(t,a,n).then((function(){e.updateContainer(t)}))},e.updateContainer=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.itemList,t.next=3,e.webStorageService.getVideosOfVideosContainer(a);case 3:r=t.sent,o=n.findIndex((function(e){return e.props.id===a})),s=Object(b.a)({},n[o].props,{videos:r}),n.splice(o,1),e.setState({itemList:n}),e.addItemToColumn(J,s),c=e.state.itemList,i=c.pop(),c.splice(o,0,i),e.setState({itemList:c});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onVideoClick=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,o,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.videoPlayer,o=a.showModal,s=a.source,c=a.id,"local"===s?(n=r.a.createElement(z,{video:a,url:"".concat(e.webStorageService._apiBase,"/video/").concat(c)}),o=!0):"www.youtube.com"===(i=new F.a(a.file)).hostname?(console.log(i.hostname),n=r.a.createElement(z,{video:a,url:a.file}),o=!0):(window.open(a.file),o=!1),e.setState({videoPlayer:n,showModal:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onVideosetItemDeleted=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.itemList,o=n.deleted,s=r.indexOf(r.find((function(e){return e.props.id===a}))),o.push(r.splice(s,1)[0]),e.setState({itemList:r,deleted:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.saveDescription=function(t,a){var n=e.state,o=n.itemList,s=n.counters,c=o.indexOf(o.find((function(e){return e.props.id===t}))),i=String(A.name)+s[A.name]++;o[c]=r.a.createElement(A,{editable:!0,key:i,id:i,text:a,saveDescription:e.saveDescription}),e.setState({itemList:o,counters:s})},e.saveChanges=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c,i,u,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,n=a.data,r=a.itemList,o=a.deleted,s=[],c=0;case 3:if(!(c<r.length)){t.next=18;break}i=r[c],u={type:i.type.name},t.t0=i.type.name,t.next="PictureSlider"===t.t0||"VideosContainer"===t.t0?9:"VideosetDescription"===t.t0?11:13;break;case 9:return u.value=i.props.id,t.abrupt("break",14);case 11:return u.value=i.props.text,t.abrupt("break",14);case 13:return t.abrupt("return");case 14:s.push(u);case 15:c++,t.next=3;break;case 18:return n.order=s,console.log(s),t.next=22,e.webStorageService.patchVideoset(e.props.id,{order:s,name:n.name,owner:n.owner});case 22:if(0===o.length){t.next=36;break}l=0;case 24:if(!(l<o.length)){t.next=36;break}if("PictureSlider"!==o[l].type.name){t.next=30;break}return t.next=28,e.webStorageService.deleteSlider(o[l].props.id);case 28:t.next=33;break;case 30:if("VideosContainer"!==o[l].type.name){t.next=33;break}return t.next=33,e.webStorageService.deleteVideosContainer(o[l].props.id);case 33:l++,t.next=24;break;case 36:e.setState({data:n,deleted:[]});case 37:case"end":return t.stop()}}),t)}))),e.cancelAction=Object(v.a)(f.a.mark((function t(){var a,n,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,n=a.startData,r=a.added,o=0;case 2:if(!(o<r.length)){t.next=9;break}if("PictureSlider"!==r[o].type.name){t.next=6;break}return t.next=6,e.webStorageService.deleteSlider(r[o].props.id);case 6:o++,t.next=2;break;case 9:e.setState({data:n,added:[],itemList:[]}),e.initialAddingItems();case 11:case"end":return t.stop()}}),t)}))),e.changeTitle=function(){var t=e.state.data,a=prompt("Input new title",t.name);a&&""!==a&&(t.name=a,e.setState(t))},e.changeLogo=function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.postLogo(e.state.data.id,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.changeSubcategory=function(t){var a=e.state.data;a.owner=t,e.setState({data:a})},e.deleteVideoset=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.deleteVideoset(e.state.data.id);case 2:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,a,n,r,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,a=this.webStorageService,n=a.getVideoset,r=a.getSubcategory,e.next=4,n(t);case 4:return o=e.sent,e.next=7,r(o.owner);case 7:s=e.sent,this.setState({videosetId:t,data:o,startData:o,subcategoryData:s}),this.initialAddingItems();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.columnId,o=t.itemList,s=t.videoPlayer,c=t.showModal;if(!a)return null;var i=a.name,u=r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return e.deletingVideo(s.props.video)}},"Delete video"),l=c?r.a.createElement(R,{className:"video-modal",footer:u,onClose:function(){return e.setState({showModal:!1})},show:c,title:s.props.video.name},s):null;return r.a.createElement("div",{className:"videoset"},l,r.a.createElement("h1",{className:" videoset-title"},i),r.a.createElement(B,{changeLogo:this.changeLogo,id:a.id,videoset:a,changeSubcategory:this.changeSubcategory,deleteVideoset:this.deleteVideoset,changeTitle:this.changeTitle,onVideosetElementAdded:this.onVideosetElementAdded,saveChanges:this.saveChanges,cancelAction:this.cancelAction}),r.a.createElement(C,{onDragEnd:this.onDragEnd},r.a.createElement(L,{id:n,items:o,onItemDeleted:this.onVideosetItemDeleted})))}}]),a}(n.Component)),G=(a(56),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).webStorageService=new g,e.state={data:null,showModal:!1,videoPlayer:null,itemList:[],counters:{}},e.componentDidMount=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.id,t.next=3,e.webStorageService.getVideoset(a);case 3:n=t.sent,e.setState({data:n}),e.initialAddingItems();case 6:case"end":return t.stop()}}),t)}))),e.initialAddingItems=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state.data,n=a.order,r=0;case 3:if(!(r<n.length)){t.next=27;break}if("VideosetDescription"!==(o=n[r]).type||null===o.value){t.next=10;break}return t.next=8,e.addItemToColumn(A,{text:o.value});case 8:t.next=24;break;case 10:if("PictureSlider"!==o.type||!o.value){t.next=18;break}return t.next=13,e.webStorageService.getPicturesOfSlider(o.value);case 13:return s=t.sent,t.next=16,e.addItemToColumn(y,{id:o.value,dataURLs:s});case 16:t.next=24;break;case 18:if("VideosContainer"!==o.type||!o.value){t.next=24;break}return t.next=21,e.webStorageService.getVideosOfVideosContainer(o.value);case 21:return c=t.sent,t.next=24,e.addItemToColumn(J,{id:o.value,videos:c,onVideoClick:e.onVideoClick});case 24:r++,t.next=3;break;case 27:case"end":return t.stop()}}),t)}))),e.addItemToColumn=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,o,s,c,i,u,l=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},o=e.state,s=o.itemList,(c=o.counters)[a.name]||(c[a.name]=0),i=c[a.name],u=r.a.createElement(a,Object.assign({key:String(a.name)+i,id:String(a.name)+i},n)),c[a.name]+=1,s.push(u),e.setState({itemList:s,counters:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onVideoClick=function(){var t=Object(v.a)(f.a.mark((function t(a){var n,o,s,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.videoPlayer,o=a.showModal,s=a.source,c=a.id,"local"===s?(n=r.a.createElement(z,{video:a,url:"".concat(e.webStorageService._apiBase,"/video/").concat(c)}),o=!0):"www.youtube.com"===(i=new F.a(a.file)).hostname?(console.log(i.hostname),n=r.a.createElement(z,{video:a,url:a.file}),o=!0):(window.open(a.file),o=!1),e.setState({videoPlayer:n,showModal:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;if(!this.state.data)return r.a.createElement("div",null);var t=this.state,a=t.data,n=t.itemList,o=t.showModal,s=t.videoPlayer,c=a.name,i=n.map((function(e,t){return r.a.createElement(I,{key:e+""+t},e)})),u=o?r.a.createElement(R,{className:"video-modal",onClose:function(){return e.setState({showModal:!1})},show:o,title:s.props.video.name},s):null,l=function(e){var t=e.id,a=Object(p.f)();return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{onClick:function(){a.push("/edit-videoset/".concat(t))},type:"button",className:"edit-btn btn btn-lg btn-secondary","data-dismiss":"modal"},"Edit this page"))},d=localStorage.getItem("user"),m=d&&"undefined"!==d?JSON.parse(d):null;return r.a.createElement("div",{className:"videoset"},u,m&&m.status.endsWith("admin")?r.a.createElement(l,{id:a.id}):null,r.a.createElement("h1",{className:"videoset-title"},c),i)}}]),a}(n.Component)),H=(a(57),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={itemList:null},e.componentDidUpdate=function(t){t.itemList===e.props.itemList&&e.props.maxNumber===t.maxNumber||e.updateList()},e.updateList=function(){var t=e.props,a=t.itemList,n=t.maxNumber;e.setState({itemList:a,maxNumber:n})},e.onItemSelected=function(t){return e.props.onItemSelected(t)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updateList()}},{key:"render",value:function(){var e=this.state,t=e.itemList,a=e.maxNumber,n=this.props,o=n.renderItems,s=n.onItemSelected,c=void 0===s?function(){}:s;if(!t)return r.a.createElement(w,null);var i=a||t.length,u=t.slice(0,i),l=o?o(u):u.map((function(e){var t=e.name,a=e.id;return r.a.createElement("li",{className:"list-group-item",key:a,onClick:function(){return c(e)}},t)}));return r.a.createElement("div",null,r.a.createElement("ul",{className:"item-list list-group"},l),r.a.createElement("div",{style:{display:"flex"}},a&&a<t.length?r.a.createElement("button",{type:"button",className:"show-more-button btn btn-lg btn-outline-success",onClick:this.props.showMore},"Show more"):null))}}]),a}(n.Component)),q=(a(58),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).webStorageService=new g,e.state={selectedCategory:null,selectedSubcategory:null,categories:null,subcategories:null,videosets:null,numberOfVideosets:5,last10Videosets:null},e.componentDidMount=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateCategories();case 2:case"end":return t.stop()}}),t)}))),e.onCategorySelected=function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateSubcategories(a);case 2:e.webStorageService.getLast10Videosets(a.id).then((function(t){e.setState({last10Videosets:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSubcategorySelected=function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updateVideosets(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderVideosets=function(t){var a=t.map((function(t,a){var n="VideosetCard-".concat(a),o=t.hasLogo?"".concat(e.webStorageService._apiBase,"/logo?videosetId=").concat(t.id):null;return r.a.createElement(Q,Object.assign({key:n},t,{logoURL:o}))}));return r.a.createElement("div",{className:"videosets-container container"},a)},e.addCategory=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=prompt("Input name of category",""),t.next=3,e.webStorageService.postCategory(a);case 3:return t.next=5,e.updateCategories();case 5:case"end":return t.stop()}}),t)}))),e.addSubcategory=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=prompt("Input name of subcategory",""),t.next=3,e.webStorageService.postSubcategory(a,e.state.selectedCategory.id);case 3:return t.next=5,e.updateSubcategories(e.state.selectedCategory);case 5:case"end":return t.stop()}}),t)}))),e.addVideoset=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=prompt("Input name of videoset",""),t.next=3,e.webStorageService.postVideoset(a,e.state.selectedSubcategory.id);case 3:return t.next=5,e.updateVideosets(e.state.selectedSubcategory);case 5:case"end":return t.stop()}}),t)}))),e.deleteCategory=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.deleteCategory(e.state.selectedCategory.id);case 2:return e.setState({selectedCategory:null,selectedSubcategory:null}),t.next=5,e.updateCategories();case 5:case"end":return t.stop()}}),t)}))),e.deleteSubcategory=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.deleteSubcategory(e.state.selectedSubcategory.id);case 2:return t.next=4,e.updateSubcategories(e.state.selectedCategory);case 4:case"end":return t.stop()}}),t)}))),e.updateCategories=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.getAllCategories();case 2:a=t.sent,e.setState({categories:a});case 4:case"end":return t.stop()}}),t)}))),e.updateSubcategories=function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.webStorageService.getSubcategoriesOfCategory(a.id);case 4:n=t.sent,e.setState({subcategories:n,selectedCategory:a,selectedSubcategory:null});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.updateVideosets=function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.webStorageService.getVideosetsOfSubcategory(a.id);case 4:n=t.sent,e.setState({selectedSubcategory:a,videosets:n,numberOfVideosets:5});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showMoreVideosets=function(){var t=e.state.numberOfVideosets;e.setState({numberOfVideosets:t+5})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.categories,o=a.subcategories,s=a.videosets,c=a.last10Videosets,i=a.selectedCategory,u=a.selectedSubcategory,l=a.numberOfVideosets,d=localStorage.getItem("user"),p=d&&"undefined"!==d?JSON.parse(d):null,m=function(e){var t=e.className,a=e.children,n=e.onClick;return r.a.createElement("button",{type:"button",className:"btn btn-outline-".concat(t),onClick:n},a)},f=p&&"main-admin"===p.status?r.a.createElement(m,{className:"success",onClick:function(){return t.addCategory()}},"Add category"):null,v=p&&"main-admin"===p.status?r.a.createElement(m,{className:"success",onClick:function(){return t.addSubcategory()}},"Add subcategory"):null,b=p&&"main-admin"===p.status?r.a.createElement(m,{className:"danger",onClick:function(){return t.deleteCategory()}},"Delete this category"):null,g=p&&p.status.endsWith("admin")?r.a.createElement(m,{className:"success",onClick:function(){return t.addVideoset()}},"Add videoset"):null,h=p&&p.status.endsWith("admin")?r.a.createElement(m,{className:"danger",onClick:function(){return t.deleteSubcategory()}},"Delete this subcategory"):null,w=r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"all-categories-title"},"All Categories"),r.a.createElement(H,{onItemSelected:this.onCategorySelected,itemList:n}),n&&0!==n.length?null:r.a.createElement("h3",{className:"no-content-message"},"Oops, there's no content"),f)),x=this.state.selectedCategory?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},(e=i.name,r.a.createElement("h4",{className:"all-categories-title"},'Subcategories of category "',e,'"')),r.a.createElement(H,{onItemSelected:this.onSubcategorySelected,itemList:o}),o&&0!==o.length?null:r.a.createElement("h3",{className:"no-content-message"},"Oops, there's no content"),r.a.createElement("div",{className:"category-details-buttons btn-group"},v,b))):null,k=u||i?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"videoset-views card-body"},u?function(e){return r.a.createElement("h3",{className:"subcategory-title"},'Videosets of subcategory "',e,'"')}(u.name):function(e){return r.a.createElement("h3",{className:"subcategory-title"},'Last 10 videosets of category "',e,'"')}(i.name),u?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"btn-group add-videoset-button"},g,h)):null,u?r.a.createElement(H,{showMore:function(){return t.showMoreVideosets()},maxNumber:l,itemList:s,renderItems:this.renderVideosets}):r.a.createElement(H,{itemList:c,renderItems:this.renderVideosets}))):null;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",{className:"categories-title"},"Categories"),r.a.createElement(K,{left:w,right:x})),r.a.createElement("div",{className:"videoset-views"},k))}}]),a}(n.Component)),K=function(e){var t=e.left,a=e.right,n="row-item col-md-".concat(a?6:12);return r.a.createElement("div",{className:"row mb2"},r.a.createElement("div",{className:n},t),r.a.createElement("div",{className:"col-md-6"},a))},Q=function(e){var t=e.id,a=e.name,n=e.order,o=e.logoURL,s=e.subcategoryName,c=n?n.find((function(e){return"VideosetDescription"===e.type})):null,i=c?c.value.split("\n")[0]:null,u="/videosets/".concat(t),l=o?r.a.createElement("img",{className:"logo",src:o,alt:""}):null,m=Object(p.f)();return r.a.createElement("div",{key:t,className:"videoset-card card border-success",onClick:function(){m.push(u)}},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{style:{display:"flex"},className:"row"},r.a.createElement("h4",{className:"videoset-preview-title"},r.a.createElement(d.b,{to:u},a)),s?r.a.createElement("h4",{className:"videoset-preview-subcategory-title"},"Subcategory: ",s):null)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},l,r.a.createElement("div",{className:"videoset-card-description col-9"},r.a.createElement("h4",{className:"card-title"},"Description:"),r.a.createElement("p",{className:"card-text"},i||"No description")))))},X=(a(59),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).webStorageService=new g,e.state={redirect:!1,registerEmail:"",registerPassword:"",registerName:"",registerNickname:"",signInEmail:"",signInPassword:"",onSignInErrorMessage:null,onRegisterErrorMessage:null},e.onSignInButtonClick=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.signInEmail,r=a.signInPassword,t.next=3,e.webStorageService.signInByCredentials(n,r);case 3:if((o=t.sent).user){t.next=6;break}return t.abrupt("return",e.setState({onSignInErrorMessage:"Incorrect e-mail or password!"}));case 6:e.setState({onRegisterErrorMessage:null}),s=o.user,c=o.token,localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("token",c),e.setState({redirect:!0}),e.props.onUserUpdate();case 12:case"end":return t.stop()}}),t)}))),e.onRegisterButtonClick=Object(v.a)(f.a.mark((function t(){var a,n,r,o,s,c,i,u;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.registerName,r=a.registerNickname,o=a.registerEmail,s=a.registerPassword,t.next=3,e.webStorageService.registerByCredentials(n,r,o,s);case 3:if(!(c=t.sent).error){t.next=6;break}return t.abrupt("return",e.setState({onRegisterErrorMessage:c.error}));case 6:e.setState({onRegisterErrorMessage:null}),i=c.user,u=c.token,localStorage.setItem("user",JSON.stringify(i)),localStorage.setItem("token",u),e.setState({redirect:!0}),e.props.onUserUpdate();case 12:case"end":return t.stop()}}),t)}))),e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(p.a,{to:"/"})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.onRegisterErrorMessage,n=t.onSignInErrorMessage,o=r.a.createElement("div",{className:"login-card card"},r.a.createElement("div",{className:"login"},this.renderRedirect(),r.a.createElement("h3",{className:"login-title"},"Or if you don't"),r.a.createElement("h1",{className:"login-title-second"},"Register"),r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name","aria-label":"Name",onChange:function(t){var a=t.target;return e.setState({registerName:a.value})}})),r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Nickname","aria-label":"Nickname",onChange:function(t){var a=t.target;return e.setState({registerNickname:a.value})}})),r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"E-mail","aria-label":"E-mail",onChange:function(t){var a=t.target;return e.setState({registerEmail:a.value})}})),r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password","aria-label":"Password",onChange:function(t){var a=t.target;return e.setState({registerPassword:a.value})}})),r.a.createElement("h4",{className:"error-message text-danger"},a),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-secondary login-button",type:"submit",onClick:this.onRegisterButtonClick},"Register")))),s=r.a.createElement("div",{className:"login-card card"},r.a.createElement("div",{className:"login"},r.a.createElement("h3",{className:"login-title"},"If you have an account"),r.a.createElement("h1",{className:"login-title-second"},"Sign in"),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"E-mail","aria-label":"Username",onChange:function(t){var a=t.target;return e.setState({signInEmail:a.value})}})),r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password","aria-label":"Password",onChange:function(t){var a=t.target;return e.setState({signInPassword:a.value})}})),r.a.createElement("h4",{className:"error-message text-danger"},n),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-secondary login-button",type:"submit",onClick:this.onSignInButtonClick},"Sign in")))));return r.a.createElement("div",{className:"login-page"},r.a.createElement(Y,{left:s,right:o}))}}]),a}(n.Component)),Y=function(e){var t=e.left,a=e.right,n="row-item col-md-".concat(a?6:12);return r.a.createElement("div",{className:"row mb2"},r.a.createElement("div",{className:n},t),r.a.createElement("div",{className:"col-md-6"},a))},Z=(a(60),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).webStorageService=new g,e.state={admin:null,allUsers:null,numberOfUsers:20},e.componentDidMount=Object(v.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateUsers();case 1:case"end":return t.stop()}}),t)}))),e.updateUsers=Object(v.a)(f.a.mark((function t(){var a,n,r,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((a=localStorage.getItem("user"))&&"undefined"!==a){t.next=3;break}return t.abrupt("return");case 3:if("main-admin"===(n=JSON.parse(a)).status){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.webStorageService.getAllUsers();case 8:r=t.sent,o=r.filter((function(e){return e.id!==n.id})).sort((function(e,t){return t.status.length-e.status.length})),e.setState({admin:n,allUsers:o});case 11:case"end":return t.stop()}}),t)}))),e.changeUserStatus=function(){var t=Object(v.a)(f.a.mark((function t(a,n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.webStorageService.patchUserByMainAdmin(a,n);case 2:return t.next=4,e.updateUsers();case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.renderUserViews=function(t){var a=t.map((function(t,a){var n="User-Card-".concat(a),o="main-admin"===t.status?"border-warning":null;return r.a.createElement($,{extraClassName:o,key:n,user:t,changeStatus:e.changeUserStatus})}));return r.a.createElement("div",{className:"videosets-container container"},a)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.allUsers,n=t.numberOfUsers;return r.a.createElement("div",null,r.a.createElement("h1",{className:"all-users-title"},"All registered users"),r.a.createElement(H,{showMore:function(){return e.setState({numberOfUsers:n+3})},maxNumber:n,itemList:a,renderItems:this.renderUserViews}))}}]),a}(n.Component)),$=function(e){var t=e.user,a=e.changeStatus,n=e.extraClassName,o=t.id,s=t.name,c=t.nickname,i=t.status,u=t.ban,l=t.email,d=function(e,t,a){return r.a.createElement("button",{className:"btn btn-".concat(a||null),onClick:t},e)},p="admin"===i||u?null:d("Make admin",(function(){return a(o,{status:"admin"})}),"primary"),m=u?null:d("Ban user",(function(){return a(o,{ban:!0})}),"danger"),f=u?d("Unban user",(function(){return a(o,{ban:!1})}),"success"):null,v="admin"!==i||u?null:d("Make main-admin",(function(){return a(o,{status:"main-admin"})}),"info"),b="user"===i||u?null:d("Make user",(function(){return a(o,{status:"user"})}),"warning");return r.a.createElement("div",{className:"card border-primary ".concat(n)},r.a.createElement("div",{className:"card-body row d-flex"},r.a.createElement("h4",{className:"user-card-title"},s," @",c," ",l),r.a.createElement("div",{className:"user-view-btn-group btn-group"},v,p,b,m,f)))},ee=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e.componentDidMount=function(){e.updateUser()},e.updateUser=function(){try{var t=JSON.parse(localStorage.getItem("user"));e.setState({user:t})}catch(a){e.setState({user:null})}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.user;return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(h,{user:t,onUserUpdate:function(){return e.updateUser()}}),r.a.createElement(p.b,{path:"/",component:q,exact:!0}),r.a.createElement(p.b,{path:"/users",exact:!0,component:Z}),r.a.createElement(p.b,{path:"/login",exact:!0,render:function(){return r.a.createElement(X,{onUserUpdate:function(){return e.updateUser()}})}}),r.a.createElement(p.b,{path:"/videosets/:id",render:function(e){var t=e.match;return r.a.createElement(G,{id:t.params.id})}}),r.a.createElement(p.b,{path:"/edit-videoset/:id",render:function(e){var t=e.match;return r.a.createElement(W,{id:t.params.id})}})))}}]),a}(n.Component);s.a.render(r.a.createElement(ee,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ea4780fa.chunk.js.map